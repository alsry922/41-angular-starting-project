### 1
**So now that we got our first effect,**  
**let's improve it**  
**by making sure that we don't store the value**  
**by which the counter changed in local storage,**  
**but instead the latest counter value**  
**that's stored in our NgRx store.**  
ì²« ë²ˆì§¸ íš¨ê³¼ë¥¼ ë§Œë“¤ì—ˆìœ¼ë‹ˆ,  
ì´ì œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì¹´ìš´í„°ê°€ ë³€ê²½ëœ ê°’ì´ ì•„ë‹Œ,  
NgRx ìŠ¤í† ì–´ì— ì €ì¥ëœ ìµœì‹  ì¹´ìš´í„° ê°’ì„ ì €ì¥í•˜ë„ë¡  
ê°œì„ í•´ ë³´ê² ìŠµë‹ˆë‹¤.

---

### 2
**And that's of course a pretty common requirement**  
**that you want to get access**  
**to data stored in the store instead**  
**of just the value that's attached to an action.**  
ì´ëŠ” ì•¡ì…˜ì— ì²¨ë¶€ëœ ê°’ ëŒ€ì‹ ,  
ìŠ¤í† ì–´ì— ì €ì¥ëœ ë°ì´í„°ì— ì ‘ê·¼í•˜ê³  ì‹¶ì–´ í•˜ëŠ”  
ì¼ë°˜ì ì¸ ìš”êµ¬ ì‚¬í•­ì…ë‹ˆë‹¤.

---

### 3
**And you can easily get hold**  
**of the latest value stored in the store by using the special**  
**with latest from operator offered by rxjs.**  
RxJSì—ì„œ ì œê³µí•˜ëŠ” `withLatestFrom` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´  
ìŠ¤í† ì–´ì— ì €ì¥ëœ ìµœì‹  ê°’ì„ ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 4
**So this must be imported from rxjs**  
**and with latest from then allows you**  
**to pass some value to this operator,**  
**which is then available in the next operator thereafter.**  
ì´ë¥¼ RxJSì—ì„œ ê°€ì ¸ì™€ì•¼ í•˜ë©°,  
`withLatestFrom` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´  
í•´ë‹¹ ì—°ì‚°ìì— ê°’ì„ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ì´ ê°’ì€ ì´í›„ ì—°ì‚°ìì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

---

### 5
**For that here in this effects clause,**  
**we can inject our store,**  
**so our NgRx store by importing store from NgRx store**  
**and by using that**  
**as a type assignment here for this store property.**  
ì´ë¥¼ ìœ„í•´ ì´ íš¨ê³¼ í´ë˜ìŠ¤ì—ì„œ  
NgRx ìŠ¤í† ì–´ë¥¼ `@ngrx/store`ì—ì„œ ê°€ì ¸ì™€ ì£¼ì…í•˜ê³ ,  
ì´ë¥¼ `store` ì†ì„±ì˜ íƒ€ì…ìœ¼ë¡œ í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 6
**And then here in with latest from,**  
**we can use this store select**  
**and select our counter, for example.**  
ê·¸ëŸ° ë‹¤ìŒ `withLatestFrom`ì—ì„œ  
`store.select`ë¥¼ ì‚¬ìš©í•´  
ì˜ˆë¥¼ ë“¤ì–´, ì¹´ìš´í„°ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 7
**And here we then might want to add some type annotations**  
**to get better TypeScript support**  
**by defining the shape of our global store here,**  
**where we have this counter key**  
**that stores the counter store as a number.**  
ì—¬ê¸°ì„œëŠ” ê¸€ë¡œë²Œ ìŠ¤í† ì–´ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ì—¬  
`counter` í‚¤ê°€ ìˆ«ìë¡œ ì €ì¥ëœ  
ì¹´ìš´í„° ìŠ¤í† ì–´ì„ì„ ë‚˜íƒ€ë‚´ëŠ”  
íƒ€ì… ì£¼ì„ì„ ì¶”ê°€í•˜ë©´  
ë” ë‚˜ì€ TypeScript ì§€ì›ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 8
**And of course we could also use our selectors here,**  
**our select count selector, for example,**  
**which is imported from counter selectors from that file.**  
ë¬¼ë¡  ì—¬ê¸°ì„œ `counter.selectors` íŒŒì¼ì—ì„œ ê°€ì ¸ì˜¨  
`selectCount` ì„ íƒìë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

---

### 9
**With this operator added here**  
**in the next operator thereafter,**  
**we get a different kind of value as an input.**  
ì´ ì—°ì‚°ìë¥¼ ì¶”ê°€í•˜ë©´  
ì´í›„ ì—°ì‚°ìì—ì„œ ì…ë ¥ê°’ì´  
ë‹¤ë¥¸ í˜•íƒœë¡œ ì œê³µë©ë‹ˆë‹¤.

---

### 10
**Instead of just getting the action here,**  
**we're now actually getting**  
**an array of different pieces of data.**  
ì—¬ê¸°ì„œëŠ” ì•¡ì…˜ë§Œ ê°€ì ¸ì˜¤ëŠ” ëŒ€ì‹ ,  
ë‹¤ì–‘í•œ ë°ì´í„° ì¡°ê°ìœ¼ë¡œ êµ¬ì„±ëœ ë°°ì—´ì„  
ë°›ê²Œ ë©ë‹ˆë‹¤.

---

### 11
**To be precise, an array with two elements.**  
**And therefore we can also use array destructuring here**  
**to pull these two elements out of the array.**  
ì •í™•íˆ ë§í•˜ë©´ ë‘ ê°œì˜ ìš”ì†Œë¥¼ ê°€ì§„ ë°°ì—´ì´ë©°,  
ë°°ì—´ êµ¬ì¡° ë¶„í•´ë¥¼ ì‚¬ìš©í•˜ì—¬  
ì´ ë‘ ìš”ì†Œë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 12
**The first element will be our action just as before,**  
**but the second element will be that data,**  
**which we kind of merged into this array.**  
ì²« ë²ˆì§¸ ìš”ì†ŒëŠ” ì´ì „ê³¼ ê°™ì´ ì•¡ì…˜ì´ë©°,  
ë‘ ë²ˆì§¸ ìš”ì†ŒëŠ” ë°°ì—´ì— ë³‘í•©í•œ ë°ì´í„°ì…ë‹ˆë‹¤.

---

### 13
**So here our counter, in this case a number**  
**as you can also see here.**  
ì—¬ê¸°ì„œëŠ” ì¹´ìš´í„°ì´ë©°,  
ì´ ê²½ìš° ìˆ«ì ë°ì´í„°ì…ë‹ˆë‹¤.

---

### 14
**And therefore, of course, now here**  
**we can still log our action,**  
**but we can now also store our counter in local storage.**  
ë”°ë¼ì„œ ì—¬ê¸°ì„œ ì—¬ì „íˆ ì•¡ì…˜ì„ ë¡œê·¸ì— ê¸°ë¡í•  ìˆ˜ ìˆì§€ë§Œ,  
ì´ì œ ì¹´ìš´í„°ë¥¼ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

---

### 15
**We just need to convert it to a string though.**  
**And that's how easy it is to get hold**  
**of a value stored in our NgRx store**  
**and how we can then use this value**  
**in our effect pipeline here.**  
ë‹¤ë§Œ, ì´ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•´ì•¼ í•©ë‹ˆë‹¤.  
ì´ë ‡ê²Œ í•˜ë©´ NgRx ìŠ¤í† ì–´ì— ì €ì¥ëœ ê°’ì„  
ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìœ¼ë©°,  
ì´ë¥¼ íš¨ê³¼ íŒŒì´í”„ë¼ì¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 16
**And with this change in place,**  
**if we save everything and serve this,**  
**you will see that if I now go to application**  
**and I clear this count value here**  
**now you see that as I change the counter,**  
**this value is also reflected here on the right.**  
ì´ ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ê³  ì €ì¥í•œ í›„  
ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ë©´,  
ì¹´ìš´íŠ¸ë¥¼ ë³€ê²½í•  ë•Œ ì˜¤ë¥¸ìª½ì— í•´ë‹¹ ê°’ì´  
ë°˜ì˜ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 17
**So now we're not just storing the value**  
**by which the counter gets changed,**  
**but instead the latest counter value.**  
ì´ì œ ì¹´ìš´í„°ê°€ ë³€ê²½ëœ ê°’ë§Œ ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼,  
ìµœì‹  ì¹´ìš´í„° ê°’ì„ ì €ì¥í•©ë‹ˆë‹¤.

---

ë²ˆì—­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ˜Š
